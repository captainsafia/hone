---
interface Props {
  currentPath?: string;
}

const { currentPath = '' } = Astro.props;

const navLinks = [
  { href: '/docs/installation', label: 'Docs' },
  { href: '/examples', label: 'Examples' },
];
---

<header class="border-b border-border">
  <div class="mx-auto max-w-[720px] px-6 py-4">
    <div class="flex items-center">
      <a href="/" class="font-semibold text-text hover:text-accent transition-colors duration-150">
        Hone
      </a>
      
      <nav class="hidden md:flex items-center gap-6 ml-8">
        {navLinks.map((link) => (
          <a
            href={link.href}
            class:list={[
              'text-sm transition-colors duration-150',
              currentPath.startsWith(link.href)
                ? 'text-text'
                : 'text-text-muted hover:text-text'
            ]}
          >
            {link.label}
          </a>
        ))}
      </nav>
      
      <div class="flex items-center gap-3 ml-auto">
        <a
          href="https://github.com/captainsafia/hone/stargazers"
          target="_blank"
          rel="noopener noreferrer"
          class="hidden sm:inline-flex items-center gap-1.5 text-sm text-text-muted hover:text-amber transition-colors duration-150"
        >
          <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
            <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
          </svg>
          Star
        </a>
        
        <a
          href="https://github.com/captainsafia/hone"
          target="_blank"
          rel="noopener noreferrer"
          class="text-text-muted hover:text-text transition-colors duration-150"
          aria-label="View on GitHub"
        >
          <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
            <path fill-rule="evenodd" clip-rule="evenodd" d="M12 2C6.477 2 2 6.477 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33.85 0 1.71.11 2.5.33 1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0012 2z"/>
          </svg>
        </a>
        
        <button
          id="theme-toggle"
          type="button"
          class="p-1 text-text-muted hover:text-text transition-colors duration-150"
          aria-label="Toggle theme"
        >
          <svg class="w-5 h-5 hidden dark:block" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
            <path stroke-linecap="round" stroke-linejoin="round" d="M12 3v2.25m6.364.386l-1.591 1.591M21 12h-2.25m-.386 6.364l-1.591-1.591M12 18.75V21m-4.773-4.227l-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z" />
          </svg>
          <svg class="w-5 h-5 block dark:hidden" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
            <path stroke-linecap="round" stroke-linejoin="round" d="M21.752 15.002A9.718 9.718 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 003 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 009.002-5.998z" />
          </svg>
        </button>
        
        <!-- Mobile menu button -->
        <button
          id="mobile-menu-btn"
          class="md:hidden p-1 text-text-muted hover:text-text transition-colors duration-150"
          aria-label="Open menu"
        >
          <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
          </svg>
        </button>
      </div>
    </div>
  </div>
  
  <!-- Mobile menu -->
  <div id="mobile-menu" class="hidden md:hidden border-t border-border">
    <div class="max-w-[720px] mx-auto px-6 py-4 space-y-2">
      {navLinks.map((link) => (
        <a
          href={link.href}
          class:list={[
            'block py-1 text-sm transition-colors duration-150',
            currentPath.startsWith(link.href)
              ? 'text-text'
              : 'text-text-muted hover:text-text'
          ]}
        >
          {link.label}
        </a>
      ))}
    </div>
  </div>
</header>

<script is:inline>
  const mobileMenuBtn = document.getElementById('mobile-menu-btn');
  const mobileMenu = document.getElementById('mobile-menu');
  const themeToggle = document.getElementById('theme-toggle');
  
  mobileMenuBtn?.addEventListener('click', () => {
    mobileMenu?.classList.toggle('hidden');
  });
  
  themeToggle?.addEventListener('click', () => {
    const isDark = document.documentElement.classList.toggle('dark');
    localStorage.setItem('theme', isDark ? 'dark' : 'light');
  });
</script>
